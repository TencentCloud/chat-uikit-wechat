## å…³äºè…¾è®¯äº‘å³æ—¶é€šä¿¡ IM

è…¾è®¯äº‘å³æ—¶é€šä¿¡ï¼ˆInstant Messagingï¼ŒIMï¼‰åŸºäº QQ åº•å±‚ IM èƒ½åŠ›å¼€å‘ï¼Œä»…éœ€æ¤å…¥ SDK å³å¯è½»æ¾é›†æˆèŠå¤©ã€ä¼šè¯ã€ç¾¤ç»„ã€èµ„æ–™ç®¡ç†èƒ½åŠ›ï¼Œå¸®åŠ©æ‚¨å®ç°æ–‡å­—ã€å›¾ç‰‡ã€çŸ­è¯­éŸ³ã€çŸ­è§†é¢‘ç­‰å¯Œåª’ä½“æ¶ˆæ¯æ”¶å‘ï¼Œå…¨é¢æ»¡è¶³é€šä¿¡éœ€è¦ã€‚


## å…³äº chat-uikit-wechat

chat-uikit-wechat æ˜¯åŸºäºè…¾è®¯äº‘ IM SDK çš„ä¸€æ¬¾ å°ç¨‹åº UI ç»„ä»¶åº“ï¼Œå®ƒæä¾›äº†ä¸€äº›é€šç”¨çš„ UI ç»„ä»¶ï¼ŒåŒ…å«ä¼šè¯ã€èŠå¤©ã€ç¾¤ç»„ã€éŸ³è§†é¢‘é€šè¯ç­‰åŠŸèƒ½ã€‚åŸºäº UI ç»„ä»¶æ‚¨å¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·å¿«é€Ÿæ­å»ºèµ·è‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚
chat-uikit-wechat ä¸­çš„ç»„ä»¶åœ¨å®ç° UI åŠŸèƒ½çš„åŒæ—¶ï¼Œä¼šè°ƒç”¨ IM SDK ç›¸åº”çš„æ¥å£å®ç° IM ç›¸å…³é€»è¾‘å’Œæ•°æ®çš„å¤„ç†ï¼Œå› è€Œå¼€å‘è€…åœ¨ä½¿ç”¨ chat-uikit-wechat æ—¶åªéœ€å…³æ³¨è‡ªèº«ä¸šåŠ¡æˆ–ä¸ªæ€§åŒ–æ‰©å±•å³å¯ã€‚
chat-uikit-wechat æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img width="1015" src="https://user-images.githubusercontent.com/40623255/202661227-d4227dcc-bada-42a6-a57b-0d0c0abc098b.png" />

> ä¸ºå°Šé‡è¡¨æƒ…è®¾è®¡ç‰ˆæƒï¼ŒTUIKit å·¥ç¨‹ä¸­ä¸åŒ…å«å¤§è¡¨æƒ…å…ƒç´ åˆ‡å›¾ï¼Œæ­£å¼ä¸Šçº¿å•†ç”¨å‰è¯·æ‚¨æ›¿æ¢ä¸ºè‡ªå·±è®¾è®¡æˆ–æ‹¥æœ‰ç‰ˆæƒçš„å…¶ä»–è¡¨æƒ…åŒ…ã€‚é»˜è®¤çš„QQè¡¨æƒ…ç‰ˆæƒå½’è…¾è®¯æ‰€æœ‰ä¸”ä¸æ”¯æŒæˆæƒï¼Œè¯·æ‚¨è°…è§£å¹¶çŸ¥æ‚‰ã€‚
>
> ç‚¹å‡»ğŸ‘‰: [æäº¤å·¥å•](https://console.cloud.tencent.com/workorder/category?level1_id=29&level2_id=40&source=14&data_title=%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%20IM&step=1)

## å‘é€æ‚¨çš„ç¬¬ä¸€æ¡æ¶ˆæ¯

### å¼€å‘ç¯å¢ƒè¦æ±‚

-  å¾®ä¿¡å¼€å‘è€…å·¥å…·
-  JavaScript
-  nodeï¼ˆ12.13.0 <= nodeç‰ˆæœ¬ <= 17.0.0, æ¨èä½¿ç”¨ Node.js å®˜æ–¹ LTS ç‰ˆæœ¬ 16.17.0ï¼‰
-  npmï¼ˆç‰ˆæœ¬è¯·ä¸ node ç‰ˆæœ¬åŒ¹é…ï¼‰

### TUIKit æºç é›†æˆ

#### æ­¥éª¤1ï¼šåˆ›å»ºé¡¹ç›®

åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸Šåˆ›å»ºä¸€ä¸ªå°ç¨‹åºé¡¹ç›®ï¼Œé€‰æ‹©ä¸ä½¿ç”¨æ¨¡ç‰ˆã€‚

<img  src="https://user-images.githubusercontent.com/40623255/202665077-b4f01580-69f2-493c-9fab-4f4ef8e5021a.png"/>

#### æ­¥éª¤2ï¼šä¸‹è½½ TUIKit ç»„ä»¶

å¾®ä¿¡å¼€å‘è€…å·¥å…·åˆ›å»ºçš„å°ç¨‹åºä¸ä¼šé»˜è®¤åˆ›å»º package.json æ–‡ä»¶ï¼Œå› æ­¤æ‚¨éœ€è¦å…ˆåˆ›å»º package.json æ–‡ä»¶ã€‚æ–°å»ºç»ˆç«¯ï¼Œå¦‚ä¸‹:

<img  src="https://qcloudimg.tencent-cloud.cn/raw/6735b8ead18ffa7c80f2e16cebbdc9d1.png"/>

è¾“å…¥:

```shell
npm init
```
ç„¶åé€šè¿‡ npm æ–¹å¼ä¸‹è½½ TUIKit ç»„ä»¶ï¼Œ ä¸ºäº†æ–¹ä¾¿æ‚¨åç»­çš„æ‹“å±•ï¼Œå»ºè®®æ‚¨å°† TUIKit ç»„ä»¶å¤åˆ¶åˆ°è‡ªå·±çš„å°ç¨‹åºç›®å½•ä¸‹:

macOSç«¯
```shell
npm i @tencentcloud/chat-uikit-wechat
```
```shell
mkdir -p ./TUIKit && cp -r node_modules/@tencentcloud/chat-uikit-wechat/ ./TUIKit
```
Windowsç«¯
```shell
npm i @tencentcloud/chat-uikit-wechat
```
```shell
xcopy node_modules\@tencentcloud\chat-uikit-wechat .\TUIKit /i /e
```
æˆåŠŸåç›®å½•ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š 

<img width="300" src="https://qcloudimg.tencent-cloud.cn/raw/e4510d5500e6b34309bd6fb138dc30cd.png"/>

æ„å»º npmï¼Œå¾®ä¿¡å¼€å‘è€…å·¥å…·-å·¥å…· > æ„å»º npm:

<img width="300" src="https://qcloudimg.tencent-cloud.cn/raw/0a028bb1ebe42ed3f0d020728677e28c.png" class="zoom-img-hover">

æ„å»º npm åç›®å½•å¦‚ä¸‹ï¼ˆæ–°å¢ miniprogram_npm æ–‡ä»¶å¤¹ï¼‰ï¼š

<img width="300" src="https://qcloudimg.tencent-cloud.cn/raw/185bc6a4b2b57df64f297e5bc253d685.png" class="zoom-img-hover">

>! æ‚¨æ„å»º npm æ—¶ï¼Œè‹¥å‡ºç°å¦‚ä¸‹å›¾æ‰€ç¤ºæç¤ºï¼Œè¯·ç‚¹å‡»ã€ç¡®å®šã€‘æŒ‰é’®ï¼Œè¯¥æç¤ºä¿¡æ¯ä¸ä¼šå½±å“åˆ°ç»„ä»¶çš„æ­£å¸¸ä½¿ç”¨ã€‚
>
><img width="300" src="https://qcloudimg.tencent-cloud.cn/raw/c28d2bdc58e09a642a6b6ac71467953a.png" class="zoom-img-hover">

#### æ­¥éª¤3ï¼šå¼•å…¥ TUIKit ç»„ä»¶

##### æ–¹å¼ä¸€ï¼š ä¸»åŒ…å¼•å…¥ ï¼ˆé€‚ç”¨äºä¸šåŠ¡é€»è¾‘ç®€å•çš„å°ç¨‹åºï¼‰
åœ¨ page é¡µé¢å¼•ç”¨ TUIKit ç»„ä»¶ï¼Œä¸ºæ­¤æ‚¨éœ€è¦åˆ†åˆ«ä¿®æ”¹ index.wxml ã€index.js å’Œ index.jsonã€‚

wxml æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/9816f2a2141357fbaced7e77929392f8.png"/>

```html
 <view>
    <TUIKit config="{{config}}" id="TUIKit"></TUIKit>
</view>
```
config çš„å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | å«ä¹‰
| ------ | ------ | ------ | ------ |
| userID | String | æ˜¯ | å½“å‰ç”¨æˆ·çš„ IDï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œåªå…è®¸åŒ…å«è‹±æ–‡å­—æ¯ï¼ˆa-z å’Œ A-Zï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€è¿è¯ç¬¦ï¼ˆ-ï¼‰å’Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ |
| SDKAPPID | Number | æ˜¯ | äº‘é€šä¿¡åº”ç”¨çš„ SDKAppID |
| SECRETKEY | String | æ˜¯ | å¯†é’¥ä¿¡æ¯ï¼Œè¯¦æƒ…å¯å‚è€ƒ<a href="#append">æ­¥éª¤4</a> |
| EXPIRETIME | Number | å¦ | userSig è¿‡æœŸæ—¶é—´ |

js æ–‡ä»¶ 

<img  src="https://qcloudimg.tencent-cloud.cn/raw/b9c02ec038b4b397f175591c7b5ef876.png"/>

```javascript
import TencentCloudChat from '@tencentcloud/chat';
import TIMUploadPlugin from 'tim-upload-plugin';
import TIMProfanityFilterPlugin from 'tim-profanity-filter-plugin';
import { genTestUserSig }  from '../../TUIKit/debug/GenerateTestUserSig';

Page({
    data: {
        config: {
            userID: '', //User ID
            SDKAPPID: 0, // Your SDKAppID
            SECRETKEY: '', // Your secretKey
            EXPIRETIME: 604800,
        }
    },

    onLoad() {
        const userSig = genTestUserSig(this.data.config).userSig 
        wx.$TUIKit = TencentCloudChat.create({
            SDKAppID: this.data.config.SDKAPPID
        })
        wx.$chat_SDKAppID = this.data.config.SDKAPPID;
        wx.$chat_userID = this.data.config.userID;
        wx.$chat_userSig = userSig;
        wx.TencentCloudChat = TencentCloudChat;
        wx.$TUIKit.registerPlugin({ 'tim-upload-plugin': TIMUploadPlugin });
        wx.$TUIKit.registerPlugin({ 'tim-profanity-filter-plugin': TIMProfanityFilterPlugin });
        wx.$TUIKit.login({
            userID: this.data.config.userID,
            userSig
        });
        wx.setStorage({
            key: 'currentUserID',
            data: [],
        });
        wx.$TUIKit.on(wx.TencentCloudChat.EVENT.SDK_READY, this.onSDKReady,this);
    },
    onUnload() {
        wx.$TUIKit.off(wx.TencentCloudChat.EVENT.SDK_READY, this.onSDKReady,this);
    },
    onSDKReady() {
        const TUIKit = this.selectComponent('#TUIKit');
        TUIKit.init();
    }
});
```
 json æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/866e12c4bf19e08c71c233158cc19106.png"/>

```json
{
  "usingComponents": {
    "TUIKit": "../../TUIKit/index"
  },
	"navigationStyle": "custom"
}
```

##### æ–¹å¼äºŒï¼šåˆ†åŒ…å¼•å…¥ ï¼ˆé€‚ç”¨äºä¸šåŠ¡é€»è¾‘å¤æ‚ï¼ŒæŒ‰éœ€è½½å…¥çš„å°ç¨‹åºï¼‰
å°ç¨‹åºåˆ†åŒ…æœ‰å¦‚ä¸‹å¥½å¤„ï¼š
- è§„é¿æ‰€æœ‰é€»è¾‘ä»£ç æ”¾ä¸»åŒ…ï¼Œå¯¼è‡´ä¸»åŒ…æ–‡ä»¶ä½“ç§¯è¶…é™é—®é¢˜
- æ”¯æŒæŒ‰éœ€è½½å…¥ï¼Œé™ä½å°ç¨‹åºè½½å…¥è€—æ—¶å’Œé¡µé¢æ¸²æŸ“è€—æ—¶
- æ”¯æŒæ›´åŠ å¤æ‚çš„åŠŸèƒ½
åˆ†åŒ…æµç¨‹ï¼š
1.åœ¨è‡ªå·±é¡¹ç›®é‡Œåˆ›å»ºåˆ†åŒ…ï¼Œæœ¬æ–‡ä»¥ TUIâ€”CustomerService ä¸ºä¾‹ã€‚å’Œ pages åŒçº§åˆ›å»º TUIâ€”CustomerService æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ–‡ä»¶å¤¹å†…éƒ¨åˆ›å»º pages æ–‡ä»¶å¤¹å¹¶ä¸”å…¶ä¸‹åˆ›å»º index é¡µé¢ã€‚
åˆ›å»ºåçš„ç›®å½•ç»“æ„ï¼š

<img  src="https://qcloudimg.tencent-cloud.cn/raw/abaeb327a9f007c79f55695b3835ced9.png"/>

2.åœ¨ app.json æ–‡ä»¶æ³¨å†Œåˆ†åŒ…ã€‚

```json
{
  "pages": [
    "pages/index/index"
  ],
  "subPackages": [
    {
      "root": "TUI-CustomerService",
      "name": "TUI-CustomerService",
      "pages": [
        "pages/index"
      ],
      "independent": false
    }
  ],
  "window": {
    "backgroundTextStyle": "light",
    "navigationBarBackgroundColor": "#fff",
    "navigationBarTitleText": "Weixin",
    "navigationBarTextStyle": "black"
  },
  "style": "v2",
  "sitemapLocation": "sitemap.json"
}
```
3.å°† TUIKit æ–‡ä»¶å¤¹å¤åˆ¶åˆ°åˆ†åŒ…ç›®å½•ä¸‹ã€‚

æˆåŠŸåçš„ç›®å½•ç»“æ„:

<img  src="https://qcloudimg.tencent-cloud.cn/raw/5abd5dc90d2e5d53b3ed1a264e0398f8.png"/>

4.å°† TUIKit æ–‡ä»¶å¤¹ä¸‹çš„ debug æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä¸»åŒ…ã€‚

<img  src="https://qcloudimg.tencent-cloud.cn/raw/b6a8236cce4a2143f886fa141ee106a5.png"/>

5. åœ¨åˆ†åŒ…å†…å¼•ç”¨ TUIKitç»„ä»¶ï¼Œä¸ºæ­¤éœ€è¦åˆ†åˆ«ä¿®æ”¹åˆ†åŒ…å†…éƒ¨ index.wxml ã€index.js ã€index.json æ–‡ä»¶ï¼Œä»¥åŠ app.js æ–‡ä»¶ã€‚

wxml æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/072f4f8f78d512f28ac8e82ed9925055.png"/>

```html
 <view>
    <TUIKit config="{{config}}" id="TUIKit"></TUIKit>
</view>
```
config çš„å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

| å‚æ•° | ç±»å‹ | æ˜¯å¦å¿…å¡« | å«ä¹‰
| ------ | ------ | ------ | ------ |
| userID | String | æ˜¯ | å½“å‰ç”¨æˆ·çš„ IDï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œåªå…è®¸åŒ…å«è‹±æ–‡å­—æ¯ï¼ˆa-z å’Œ A-Zï¼‰ã€æ•°å­—ï¼ˆ0-9ï¼‰ã€è¿è¯ç¬¦ï¼ˆ-ï¼‰å’Œä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ |
| SDKAPPID | Number | æ˜¯ | äº‘é€šä¿¡åº”ç”¨çš„ SDKAppID |
| SECRETKEY | String | æ˜¯ | å¯†é’¥ä¿¡æ¯ï¼Œè¯¦æƒ…å¯å‚è€ƒ<a href="#append">æ­¥éª¤4</a> |
| EXPIRETIME | Number | å¦ | userSig è¿‡æœŸæ—¶é—´ |

 js æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/d36a0543c7fe94def0fc36042eddc28c.png"/>

```javascript
Page({

// å…¶ä»–ä»£ç 

  onLoad() {
    const TUIKit = this.selectComponent('#TUIKit');
    TUIKit.init();
  },
});
```

 json æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/4499096c37b9b29abffa21b71fb90e9e.png"/>

```json
  {
  "usingComponents": {
    "TUIKit": "../TUIKit/index"
  },
  "navigationStyle": "custom"
  }
```
app.js æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/170aa919af6db0e7b32ace5da9d417f1.png"/>

```javascript
import TencentCloudChat from '@tencentcloud/chat';
import TIMUploadPlugin from 'tim-upload-plugin';
import TIMProfanityFilterPlugin from 'tim-profanity-filter-plugin';
import { genTestUserSig } from './debug/GenerateTestUserSig';
App({
  onLaunch: function () {
    wx.$TUIKit = TencentCloudChat.create({
      SDKAppID: this.globalData.config.SDKAPPID,
    });
    const userSig = genTestUserSig(this.globalData.config).userSig 
    wx.$chat_SDKAppID = this.globalData.config.SDKAPPID;
    wx.TencentCloudChat = TencentCloudChat;
    wx.$chat_userID = this.globalData.config.userID;
    wx.$chat_userSig = userSig;
    wx.$TUIKit.registerPlugin({ 'tim-upload-plugin': TIMUploadPlugin });
    wx.$TUIKit.registerPlugin({ 'tim-profanity-filter-plugin': TIMProfanityFilterPlugin });
    wx.$TUIKit.login({
      userID: this.globalData.config.userID,
      userSig
  });
    // ç›‘å¬ç³»ç»Ÿçº§äº‹ä»¶
    wx.$TUIKit.on(wx.TencentCloudChat.EVENT.SDK_READY, this.onSDKReady,this);
  },
  onUnload() {
    wx.$TUIKit.off(wx.TencentCloudChat.EVENT.SDK_READY, this.onSDKReady,this);
  },
  globalData: {
    config: {
      userID: '', // User ID
      SECRETKEY: '', // Your secretKey
      SDKAPPID: 0, // Your SDKAppID
      EXPIRETIME: 604800,
    },
  },
  onSDKReady(event) {
    // ç›‘å¬åˆ°æ­¤äº‹ä»¶åå¯è°ƒç”¨ SDK å‘é€æ¶ˆæ¯ç­‰ APIï¼Œä½¿ç”¨ SDK çš„å„é¡¹åŠŸèƒ½ã€‚
  }
});
```
6. æŒ‰éœ€è½½å…¥åˆ†åŒ…ï¼Œæ‚¨éœ€è¦ä¿®æ”¹ä¸»åŒ… pages ä¸‹çš„ index.wxml ã€index.jsã€‚

wxml æ–‡ä»¶ 

<img  src="https://qcloudimg.tencent-cloud.cn/raw/86f2698910c2e255727f419625441ed9.png"/>

```html
<view class="container" bindtap="handleJump">
  è½½å…¥è…¾è®¯äº‘ IM åˆ†åŒ…
</view>
```

js æ–‡ä»¶

<img  src="https://qcloudimg.tencent-cloud.cn/raw/5c41dff77345aa364bde46039f84ffd7.png"/>

```javascript
Page({
  handleJump() {
    wx.navigateTo({
      url: '../../TUI-CustomerService/pages/index',
    })
  }
})
```

#### <p id="append">æ­¥éª¤4ï¼š è·å– SDKAppID ã€SECRETKEY ä¸ userID</p>

è®¾ç½®æ­¥éª¤3ç¤ºä¾‹ä»£ç ä¸­çš„ç›¸å…³å‚æ•° SDKAPPIDã€SECRETKEY ä»¥åŠ userID ï¼Œå…¶ä¸­  SDKAppID å’Œå¯†é’¥ç­‰ä¿¡æ¯ï¼Œå¯é€šè¿‡ [å³æ—¶é€šä¿¡ IM æ§åˆ¶å°](https://console.cloud.tencent.com/im)  è·å–ï¼Œå•å‡»ç›®æ ‡åº”ç”¨å¡ç‰‡ï¼Œè¿›å…¥åº”ç”¨çš„åŸºç¡€é…ç½®é¡µé¢ã€‚ä¾‹å¦‚ï¼š
<img style="width:600px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/44a331ce39f05f7080cf33ca9bc8e5dd.png"/>
userID ä¿¡æ¯ï¼Œå¯é€šè¿‡ [å³æ—¶é€šä¿¡ IM æ§åˆ¶å°](https://console.cloud.tencent.com/im)  è¿›è¡Œåˆ›å»ºå’Œè·å–ï¼Œå•å‡»ç›®æ ‡åº”ç”¨å¡ç‰‡ï¼Œè¿›å…¥åº”ç”¨çš„è´¦å·ç®¡ç†é¡µé¢ï¼Œå³å¯åˆ›å»ºè´¦å·å¹¶è·å– userIDã€‚ä¾‹å¦‚ï¼š
<img style="width:870px; max-width: inherit;" src="https://qcloudimg.tencent-cloud.cn/raw/94c801b7258612f8a4018728d862252f.png"/>

### æ­¥éª¤5ï¼šç¼–è¯‘å°ç¨‹åº

- è¯·åœ¨æœ¬åœ°è®¾ç½®é‡Œé¢å‹¾é€‰ä¸Šâ€œä¸æ ¡éªŒåˆæ³•åŸŸåã€web-view (ä¸šåŠ¡åŸŸå)ã€ TLS ç‰ˆæœ¬ä»¥åŠ HTTPS è¯ä¹¦â€ã€‚

<img  src="https://qcloudimg.tencent-cloud.cn/raw/e32530c238362d5bb597c1171f6646ff.png"/>

- ç‚¹å‡»ã€æ¸…ç¼“å­˜ã€‘->ã€å…¨éƒ¨æ¸…é™¤ã€‘ï¼Œé¿å…å¼€å‘è€…å·¥å…·çš„ç¼“å­˜é€ æˆæ¸²æŸ“å¼‚å¸¸ã€‚

<img  src="https://qcloudimg.tencent-cloud.cn/raw/2c68432c6e3399df21517e521c356299.png"/>

- ç‚¹å‡»ã€ç¼–è¯‘ã€‘ã€‚

<img src="https://qcloudimg.tencent-cloud.cn/raw/b98aebdadf932e036e9900aea5651c1e.png"/>

### æ­¥éª¤6ï¼šå‘é€æ‚¨çš„ç¬¬ä¸€æ¡æ¶ˆæ¯
<img style="width:1000" src="https://qcloudimg.tencent-cloud.cn/raw/4673f24d0fc8319c4788d505d9fde774.png" />     
 <img style="width:1000" src="https://qcloudimg.tencent-cloud.cn/raw/02eb06fbc13cdf27664fe55eb2e10b49.png"  />  

### å¸¸è§é—®é¢˜
#### 1. ä»€ä¹ˆæ˜¯ UserSigï¼Ÿ

UserSig æ˜¯ç”¨æˆ·ç™»å½•å³æ—¶é€šä¿¡ IM çš„å¯†ç ï¼Œå…¶æœ¬è´¨æ˜¯å¯¹ UserID ç­‰ä¿¡æ¯åŠ å¯†åå¾—åˆ°çš„å¯†æ–‡ã€‚ 

#### 2. å¦‚ä½•ç”Ÿæˆ UserSigï¼Ÿ

 UserSig ç­¾å‘æ–¹å¼æ˜¯å°† UserSig çš„è®¡ç®—ä»£ç é›†æˆåˆ°æ‚¨çš„æœåŠ¡ç«¯ï¼Œå¹¶æä¾›é¢å‘é¡¹ç›®çš„æ¥å£ï¼Œåœ¨éœ€è¦ UserSig æ—¶ç”±æ‚¨çš„é¡¹ç›®å‘ä¸šåŠ¡æœåŠ¡å™¨å‘èµ·è¯·æ±‚è·å–åŠ¨æ€ UserSigã€‚æ›´å¤šè¯¦æƒ…è¯·å‚è§ [æœåŠ¡ç«¯ç”Ÿæˆ UserSig](https://cloud.tencent.com/document/product/269/32688#GeneratingdynamicUserSig)ã€‚

> !
>
> æœ¬æ–‡ç¤ºä¾‹ä»£ç é‡‡ç”¨çš„è·å– UserSig çš„æ–¹æ¡ˆæ˜¯åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­é…ç½® SECRETKEYï¼Œè¯¥æ–¹æ³•ä¸­ SECRETKEY å¾ˆå®¹æ˜“è¢«åç¼–è¯‘é€†å‘ç ´è§£ï¼Œä¸€æ—¦æ‚¨çš„å¯†é’¥æ³„éœ²ï¼Œæ”»å‡»è€…å°±å¯ä»¥ç›—ç”¨æ‚¨çš„è…¾è®¯äº‘æµé‡ï¼Œå› æ­¤**è¯¥æ–¹æ³•ä»…é€‚åˆæœ¬åœ°è·‘é€šåŠŸèƒ½è°ƒè¯•**ã€‚ æ­£ç¡®çš„ UserSig ç­¾å‘æ–¹å¼è¯·å‚è§ä¸Šæ–‡ã€‚

### 3. å°ç¨‹åºå¦‚æœéœ€è¦ä¸Šçº¿æˆ–è€…éƒ¨ç½²æ­£å¼ç¯å¢ƒæ€ä¹ˆåŠï¼Ÿ
è¯·åœ¨**å¾®ä¿¡å…¬ä¼—å¹³å°**>**å¼€å‘**>**å¼€å‘ç®¡ç†**>**å¼€å‘è®¾ç½®**>**æœåŠ¡å™¨åŸŸå**ä¸­è¿›è¡ŒåŸŸåé…ç½®ï¼š

ä»v2.11.2èµ· SDK æ”¯æŒäº† WebSocketï¼ŒWebSocket ç‰ˆæœ¬é¡»æ·»åŠ ä»¥ä¸‹åŸŸååˆ° **socket åˆæ³•åŸŸå**ï¼š

| åŸŸå | è¯´æ˜ |  æ˜¯å¦å¿…é¡» |
|-------|---------|----|
|`wss://wss.im.qcloud.com`| Web IM ä¸šåŠ¡åŸŸå | å¿…é¡»|
|`wss://wss.tim.qq.com`| Web IM ä¸šåŠ¡åŸŸå | å¿…é¡»|

å°†ä»¥ä¸‹åŸŸåæ·»åŠ åˆ° **request åˆæ³•åŸŸå**ï¼š

| åŸŸå | è¯´æ˜ |  æ˜¯å¦å¿…é¡» |
|-------|---------|----|
|`https://web.sdk.qcloud.com`| Web IM ä¸šåŠ¡åŸŸå | å¿…é¡»|
|`https://webim.tim.qq.com` | Web IM ä¸šåŠ¡åŸŸå | å¿…é¡»|
|`https://api.im.qcloud.com` | Web IM ä¸šåŠ¡åŸŸå | å¿…é¡»|


| åŸŸå | è¯´æ˜ |  æ˜¯å¦å¿…é¡» |
|-------|---------|----|
|`https://cos.ap-shanghai.myqcloud.com` | æ–‡ä»¶ä¸Šä¼ åŸŸå | å¿…é¡»|
|`https://cos.ap-shanghai.tencentcos.cn` | æ–‡ä»¶ä¸Šä¼ åŸŸå | å¿…é¡»|
|`https://cos.ap-guangzhou.myqcloud.com` | æ–‡ä»¶ä¸Šä¼ åŸŸå | å¿…é¡»|


å°†ä»¥ä¸‹åŸŸåæ·»åŠ åˆ° **downloadFile åˆæ³•åŸŸå**ï¼š

| åŸŸå | è¯´æ˜ |  æ˜¯å¦å¿…é¡» |
|-------|---------|----|
|`https://cos.ap-shanghai.myqcloud.com` | æ–‡ä»¶ä¸‹è½½åŸŸå | å¿…é¡»|
|`https://cos.ap-shanghai.tencentcos.cn` | æ–‡ä»¶ä¸‹è½½åŸŸå | å¿…é¡»|
|`https://cos.ap-guangzhou.myqcloud.com` | æ–‡ä»¶ä¸‹è½½åŸŸå | å¿…é¡»|
