<view class="container">
  <image class="background-image" src="../../static/background.svg"/>
  <view class="counter-warp">
    <view class="header-content">
      <image src="../../static/IMlogo.png" class="icon" />
      <view class="text">
        <view class="text-header">登录 · 即时通信</view>
        <view class="text-content">体验群组聊天，音视频对话等IM功能</view>
      </view>
    </view>
    <view class="box">
      <view class="list">
        <view class="list-item">
          <label class="list-item-label">手机号</label>
          <view class="list-item-main">
            <view class="input-label" bindtap="onToggleCountryIndicator">
                +{{country}}
              </view>
            <input class="input" type="number" maxlength="11" placeholder="请输入手机号" bindinput='bindPhoneInput' placeholder-style="color:#BBBBBB;"/>
          </view>
        </view>
        <view class="list-item">
          <label class="list-item-label">验证码</label>
          <view class="list-item-main">
            <input class="input" type="number" maxlength="6" placeholder="请输入验证码" bindinput='bindCodeInput' placeholder-style="color:#BBBBBB;"/>
            <text class='codeBtn {{btnDisabled && "codeNum"}}' bindtap='getCode' hidden='{{hidden}}' disabled='{{btnDisabled || !privateAgree}}'>{{btnValue}}</text>
          </view>
        </view>
      </view>
      <view class="private-protocol-box" bindtap="onAgreePrivateProtocol">
          <view class="private-protocol-switch" >
            <image wx:if="{{privateAgree}}" src="../../static/selected.png" lazy-load="true"  />
            <image wx:else src="../../static/select.png" lazy-load="true" />
          </view>
          <view class="text-box"><text>我已阅读并同意</text><text class="link" bindtap="linkToPrivacyTreaty">《隐私条例》</text><text>和</text><text class="link" bindtap="linkToUserAgreement">《用户协议》</text>
          </view>
      </view>
      <view class='login'>
            <button class="loginBtn" disabled="{{!privateAgree}}" bind:tap='login'>登录</button>
      </view>
    </view>
  </view>
</view>
<t-captcha
   id="captcha"
   app-id="2041948510"
   bindverify="handlerVerify"
   bindready="handlerReady"
   bindclose="handlerClose"
   binderror="handlerError" />
